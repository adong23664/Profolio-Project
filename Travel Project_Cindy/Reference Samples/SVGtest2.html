<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta
        http-equiv="X-UA-Compatible"
        content="IE=edge"
    >
    <meta
        name="viewport"
        content="width=device-width, initial-scale=1.0"
    >
    <title>Document</title>
</head>
<style>
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    html,
    body {
        width: 100%;
        height: 100%;
    }

    body {
        background: #fff;
        text-align: center;
        overflow: hidden;
    }

    svg {
        width: 100%;
        height: auto;
        margin: 50px auto;
        padding: 50px 20px;
    }

    path {
        fill: cornflowerblue;
        cursor: pointer;
        -webkit-transition: all 150ms;
        -moz-transition: all 150ms;
        -o-transition: all 150ms;
        transition: all 150ms;
    }

    path.box {
        opacity: 0;
        fill: white;
        pointer-events: none;
    }

    g.shop:hover path.box {
        opacity: 1;
        fill: white;
    }

    g.shop:hover path {
        fill: red;
    }
</style>

<body>
    <svg
        id="svg"
        width="2440"
        height="1525"
        viewBox="0 0 2440 1525"
    >
        <g
            id="svg_2"
            class="shop"
        >
            <path
                id="svg_3"
                d="m1911.987,0c0.343,0 0.687,0 1.031,0c2.603,1.866 3.207,5.732 6.187,7.222c3.885,0.242 4.367,3.886 8.251,4.127c2.782,1.686 4.002,-0.118 7.219,2.064c0.577,1.486 1.608,2.518 3.095,3.095c-1.053,4.836 1.696,5.868 3.093,8.254c-1.188,1.219 -1.167,3.646 -1.032,6.19c5.689,4.284 10.995,8.948 20.627,9.287c4.424,0.3 3.39,-4.862 7.218,-5.16c2.892,2.268 4.757,5.56 7.221,8.255c0,5.159 0,10.318 0,15.477c2.922,4.986 5.415,10.403 9.281,14.446c0.478,3.305 3.925,3.638 4.124,7.223c0.121,4.005 5.059,3.193 5.156,7.222c0,3.439 -0.001,6.879 0,10.319c2.211,1.228 5.762,1.113 7.219,3.095c-0.09,3.529 6.278,0.598 6.188,4.127c1.309,4.749 -1.876,5.001 -3.095,7.222c2.107,2.45 4.082,-1.418 6.188,1.032c0.876,4.282 3.417,6.899 6.188,9.286c6.528,-3.892 9.406,1.329 15.469,3.096c4.088,-0.381 9.883,0.946 12.374,-1.032c3.009,1.118 3.883,4.371 8.251,4.127c-0.924,-3.331 3.363,-1.449 4.125,-3.095c2.738,-2.418 -0.762,-11.081 2.062,-13.414c4.743,-0.96 3.595,3.973 7.22,4.127c3.941,-3.967 11.017,-4.799 16.502,-7.223c2.43,0.319 1.917,3.583 5.155,3.096c1.883,-2.586 2.146,-6.795 5.155,-8.254c5.558,1.432 4.322,-3.93 9.282,-3.095c4.453,-0.672 5.78,1.783 8.249,3.095c3.988,-2.89 7.611,-6.144 12.376,-8.255c-0.737,2.802 4.864,-0.738 4.126,2.064c0.247,1.815 1.774,2.351 4.125,2.063c2.766,1.758 6.61,-2.538 11.343,-2.063c-0.327,2.392 0.167,3.961 1.032,5.158c3.923,-1.336 7.21,-2.299 10.314,-1.031c0.477,4.811 -2.031,6.628 0,10.317c-2.399,1.04 -3.327,3.552 -3.095,7.223c-2.781,2.033 -4.933,4.695 -6.188,8.254c0.329,2.422 1.63,3.874 1.032,7.223c-3.578,0.828 -3.966,-1.537 -7.22,-1.031c-1.759,2.368 -1.598,6.656 -3.094,9.286c-2.178,-0.917 -3.048,-3.142 -6.188,-3.095c-3.292,-0.146 -3.062,-3.815 -6.188,-4.127c-5.173,3.422 -7.465,9.728 -15.469,10.318c0.745,3.153 -1.054,3.76 -1.029,6.191c-5.245,3.009 -6.94,9.567 -14.44,10.318c1.819,8.008 -4.63,7.748 -6.188,12.381c-2.469,-1.312 -3.796,-3.767 -8.25,-3.095c-3.531,5.065 -14.189,2.999 -17.531,8.254c-1.864,-1.574 -3.158,-3.719 -7.219,-3.095c-3.799,2.045 -3.542,8.15 -9.281,8.254c0,2.063 0,4.127 0,6.191c-4.572,-0.792 -3.258,4.307 -6.188,5.159c-6.335,1.916 -14.409,2.093 -20.624,4.127c-3.825,0.731 -4.427,-1.763 -8.25,-1.032c-3.832,-0.394 -2.697,4.181 -7.221,3.096c-7.63,-0.755 -12.595,1.155 -19.594,1.031c-2.75,-4.814 -9.08,-6.049 -14.438,-8.254c-3.574,3.303 -7.446,6.307 -14.438,6.191c-4.841,3.754 -8.247,8.946 -12.376,13.413c-2.811,-0.97 -1.958,-5.607 -7.218,-4.127c-3.136,0.301 -1.422,5.456 -4.126,6.19c-2.076,-2.394 -3.753,-5.187 -7.218,-6.19c-1.74,3.075 -5.76,3.868 -5.157,9.286c-1.54,1.554 -5.879,0.309 -5.156,4.127c-0.232,5.392 0.018,10.302 1.032,14.446c-1.045,3.425 -5.709,3.231 -5.157,8.254c1.715,2.067 3.742,3.822 4.125,7.222c4.292,0.865 8.192,2.123 9.281,6.191c-0.099,2.652 -4.025,1.475 -4.125,4.126c1.289,2.494 5.2,2.364 5.157,6.191c-2.726,2.776 -5.86,5.144 -6.188,10.317c-2.971,0.124 -6.75,-0.563 -8.25,1.032c-0.438,5.05 4.301,6.999 0,10.318c-4.146,-2.388 -10.807,-2.258 -17.531,-2.064c-3.018,0.765 -1.24,6.326 -5.157,6.191c-4.064,0.284 -3.154,-4.412 -7.218,-4.127c-3.947,0.165 -8.179,0.615 -8.251,-3.096c-3.321,-0.227 -4.363,1.825 -8.251,1.032c-3.758,-2.085 -5.272,-6.418 -7.218,-10.318c-5.333,1.888 -7.683,6.759 -11.345,10.318c-0.393,4.836 1.811,5.868 -1.03,8.254c-3.652,0.558 -2.536,-3.654 -6.188,-3.095c-4.246,0.81 -5.292,-1.584 -9.281,-1.032c-0.34,-2.412 -1.239,-4.263 -2.062,-6.191c-6.562,-0.286 -10.407,2.39 -13.408,-2.063c-3.331,5.954 -7.4,11.167 -14.438,13.414c-0.988,4.514 -4.221,6.782 -3.093,13.413c1.998,5.566 8.154,6.972 7.219,15.477c1.781,1.657 6.375,0.5 7.218,3.096c0.192,5.694 -1.606,9.397 -4.124,12.38c0.107,5.612 -6.167,4.838 -5.157,11.351c1.663,2.463 9.087,-0.837 9.281,3.095c-0.703,3.08 -4.105,3.46 -8.249,3.096c-0.071,3.026 -2.358,3.833 -4.126,5.16c0.768,6.615 -1.204,10.489 -1.031,16.508c-2.624,0.126 -3.999,1.501 -4.125,4.127c-3.243,-0.148 -3.544,2.646 -4.126,5.159c-0.748,3.156 1.779,3.035 1.031,6.19c1.21,1.542 4.285,1.216 4.127,4.128c-0.047,3.141 2.177,4.013 3.093,6.19c-2.687,4.19 -5.579,8.176 -5.156,15.478c-6.025,3.946 -5.647,14.297 -9.281,20.635c-3.308,-5.159 -11.841,-4.43 -15.47,0c-1.17,6.549 3.678,13.765 -1.031,17.541c-4.81,0.685 -6.625,-1.625 -10.313,-2.064c-6.046,8.054 -11.863,16.333 -22.688,19.604c-0.458,2.636 -1.445,4.744 -3.093,6.19c-3.095,0 -6.189,0 -9.281,0c-1.769,2.359 -0.98,7.274 -3.095,9.287c-4.52,-0.981 -7.778,-3.223 -9.282,-7.222c-4.633,-0.868 -5.678,-5.324 -10.312,-6.191c-2.315,2.843 -5.957,4.358 -10.313,5.159c-0.943,1.809 -0.354,5.148 -2.063,6.191c-9.928,-1.072 -12.097,-9.908 -18.563,-14.445c-4.078,0.047 -5.979,2.271 -9.281,3.095c-0.25,-1.815 -1.774,-2.352 -4.125,-2.063c-2.493,1.977 -8.287,0.651 -12.376,1.031c-3.188,-3.001 -7.137,-5.241 -12.376,-6.19c-1.449,-1.988 -2.726,-4.152 -3.092,-7.223c-3.26,0.165 -6.226,0.037 -7.22,-2.063c0.876,-5.313 6.181,-6.198 6.188,-12.381c-1.897,-3.26 -4.886,-5.431 -8.251,-7.223c-2.383,-3.118 -6.139,-4.864 -8.25,-8.254c-2.482,-0.955 -4.994,-1.883 -7.219,-3.095c0.125,-9.068 -8.479,-9.402 -8.25,-18.573c-1.37,-6.528 5.494,-4.821 4.124,-11.35c-0.956,-7.298 -5.102,-11.404 -6.187,-18.573c-11.142,0.829 -14.473,-6.155 -18.563,-12.381c1.944,-5.279 8.849,-5.592 15.469,-6.19c-1.085,-4.525 3.488,-3.389 3.095,-7.223c-0.327,-4.109 4.769,-2.794 5.156,-6.19c-3.665,-4.931 -8.188,-9.006 -14.439,-11.35c-1.159,-4.686 -5.444,-6.246 -8.25,-9.286c2.331,-4.547 7.802,-5.953 9.283,-11.351c-0.799,-6.301 1.351,-9.654 1.031,-15.477c1.396,-2.386 4.146,-3.419 3.095,-8.254c0.931,-5.403 -5.058,-3.883 -4.126,-9.286c1.506,-4.34 5.353,-6.338 6.188,-11.35c-0.508,-4.996 -5.229,-5.776 -6.188,-10.319c1.727,-1.711 0.82,-6.057 1.031,-9.285c-1.563,-3.598 -4.32,-5.998 -3.094,-12.382c-2.561,0.155 -4.28,-0.533 -5.156,-2.064c0.197,-5.702 -3.365,-7.64 -7.22,-9.286c-3.264,-0.169 -3.447,2.742 -7.219,2.063c-5.133,0.948 -4.387,-3.25 -8.25,-1.032c-0.249,1.816 -1.775,2.353 -4.125,2.063c0,4.788 -1.603,8.716 -4.125,11.35c-0.665,0.693 -0.374,1.24 -1.031,2.063c-1.519,1.901 -3.943,3.212 -5.157,5.159c0.319,3.758 -0.164,6.715 -1.031,9.286c-2.943,-1.526 -3.599,-5.342 -8.25,-5.159c-2.152,-2.662 -3.087,-6.541 -6.188,-8.255c-4.899,1.74 -7.153,0.959 -11.344,2.063c-2.223,2.937 -2.209,8.108 -4.127,11.35c-2.062,0 -4.124,0 -6.187,0c-1.1,0.962 -0.32,3.806 -3.094,3.095c-2.75,0 -5.5,0 -8.25,0c-2.478,-0.961 -2.732,-4.146 -7.219,-3.095c0.884,-3.292 -1.623,-3.191 -2.063,-5.159c-2.38,-2.091 -7.841,-1.098 -9.282,-4.127c0.711,-4.149 -0.988,-5.89 -1.031,-9.286c-3.375,-2.127 -7.148,-3.854 -11.344,-5.158c-2.75,0 -5.5,0 -8.25,0c-1.664,1.183 -3.266,4.05 -5.156,2.063c-2.319,-1.119 -4.076,-2.801 -4.124,-6.191c-2.644,-0.108 -4.918,-0.583 -6.189,-2.063c-0.917,-3.208 -3.444,-4.807 -4.125,-8.254c0.824,-2.959 6.916,-0.648 6.188,-5.158c3.316,-1.654 -3.628,-3.856 0,-6.191c11.756,-0.276 9.754,-14.316 21.656,-14.445c0.609,-4.393 -0.741,-6.825 -1.031,-10.318c4.714,0.034 0.054,-3.62 1.031,-6.191c1.71,1.728 6.054,0.821 9.281,1.032c0.704,3.079 4.107,3.458 8.251,3.095c2.14,-0.61 3.516,-1.985 4.125,-4.127c4.668,1.921 1.794,-3.708 4.125,-4.127c1.719,0 3.438,0 5.156,0c0.806,-3.665 3,-5.941 4.125,-9.286c8.063,1.908 10.956,8.987 20.626,9.286c4.296,-2.581 5.023,-8.731 11.344,-9.286c-1.021,-6.524 3.963,-7.041 4.126,-12.382c4.498,-3.024 6.551,-7.634 11.343,-9.286c0.158,-4.702 0.854,-4.048 0,-8.254c2.091,-3.726 6.732,-4.492 4.125,-10.319c3.489,0.051 4.474,-2.402 6.189,-4.127c0.478,-3.305 3.925,-3.638 4.123,-7.222c-0.855,-2.583 -2.825,-4.052 -3.093,-7.223c3.536,-0.589 3.804,-4.448 5.155,-7.223c0.711,-4.149 -0.987,-5.89 -1.03,-9.286c2.565,-3.624 5.89,-6.489 10.313,-8.255c-1.417,-7.953 5.608,-7.458 8.251,-11.35c0.914,-3.766 -1.822,-5.495 0,-7.222c2.168,-0.926 4.584,-1.604 6.186,-3.095c-0.496,-3.25 3.167,-2.337 2.064,-6.191c1.541,-1.554 5.879,-0.308 5.156,-4.127c0,-3.783 0,-7.567 0,-11.35c-0.552,-3.428 -5.256,-6.372 -2.062,-10.319c5.646,-0.203 6.179,3.121 11.343,1.032c2.151,-1.63 2.021,-5.544 6.188,-5.159c5.467,-1.343 5.264,2.989 10.313,2.064c1.043,-3.426 5.513,-3.425 10.313,-3.095c1.036,-1.371 0.976,-3.839 3.094,-4.127c8.521,-0.073 11.173,-6.016 20.625,-5.16c2.543,-2.27 4.915,-4.711 9.282,-5.159c3.936,-0.499 6.582,0.292 8.25,2.063c3.945,-2.586 8.647,-4.416 13.405,-6.191c7.696,0.133 15.525,0.399 20.627,-2.063c5.276,4.694 8.365,11.577 15.469,14.444c5.582,-1.294 9,-4.751 16.501,-4.127c1.368,1.728 2.731,3.457 2.062,7.223c5.984,1.922 9.086,6.73 12.376,11.35c4.146,-0.71 5.887,0.989 9.281,1.032c4.282,-2.251 8.379,-4.687 13.406,-6.191c1.788,1.308 2.703,3.488 6.188,3.095c2.749,0 5.501,0 8.25,0c2.745,3.102 10.271,1.418 11.346,6.191c-1.854,4.933 0.051,6.881 2.062,10.318c4.589,0.807 6.189,-1.375 10.313,-1.032c2.638,-4.928 4.426,-10.705 8.251,-14.445c2.914,-1.272 6.364,-1.272 9.28,0c2.544,-2.271 4.916,-4.713 9.282,-5.16c1.63,-2.152 2.388,-5.176 6.188,-5.158c5.443,-0.975 6.655,2.283 9.281,4.126c4.276,-1.182 4.019,2.17 7.22,2.064c3.756,-0.319 6.711,0.164 9.282,1.032c1.279,-2.158 2.997,-3.878 5.155,-5.158c0.425,-3.42 1.32,-10.523 4.125,-14.446c8.694,-0.244 17.613,-0.263 23.72,-3.095c2.385,1.397 3.416,4.148 8.251,3.095c2.933,-4.627 2.244,-12.883 8.251,-14.44z"
                fill="#4D4D4D"
                clip-rule="evenodd"
                fill-rule="evenodd"
            />
        </g>
    </svg>
    <script>
        // 開始：滑鼠拖拉的效果
        let moving;
        function mouseDown(e) { //	滑鼠點下，開始拖拉
            moving = true
        }
        function drag(e) { //	拖拉的移動過程
            if (moving === true) {
                //	1. 取得一開始的 viewBox 值，原本是字串，拆成陣列，方便之後運算
                let startViewBox = svg.getAttribute('viewBox').split(' ').map(n => parseFloat(n));
                //	2. 取得滑鼠當前 viewport 中 client 座標值
                let startClient = { x: e.clientX, y: e.clientY };
                //	3. 計算對應回去的 SVG 座標值
                let newSVGPoint = svg.createSVGPoint();
                let CTM = svg.getScreenCTM();
                newSVGPoint.x = startClient.x;
                newSVGPoint.y = startClient.y;
                let startSVGPoint = newSVGPoint.matrixTransform(CTM.inverse());
                //	4. 計算拖曳後滑鼠所在的 viewport client 座標值
                let moveToClient = {
                    x: e.clientX + e.movementX,	//	movement 可以取得滑鼠位移量
                    y: e.clientY + e.movementY
                }
                //	5. 計算對應回去的 SVG 座標值
                newSVGPoint = svg.createSVGPoint();
                CTM = svg.getScreenCTM();
                newSVGPoint.x = moveToClient.x;
                newSVGPoint.y = moveToClient.y;
                let moveToSVGPoint = newSVGPoint.matrixTransform(CTM.inverse());
                //	6. 計算位移量
                let delta = { dx: startSVGPoint.x - moveToSVGPoint.x, dy: startSVGPoint.y - moveToSVGPoint.y };
                //	7. 設定新的 viewBox 值
                let xRange, yRange
                if (Math.abs(startViewBox[0] + delta.dx) > svg.getAttribute('width')) {
                    if (startViewBox[0] + delta.dx > 0) {
                        xRange = svg.getAttribute('width')
                    } else {
                        xRange = -svg.getAttribute('width')
                    }
                } else {
                    xRange = startViewBox[0] + delta.dx
                }
                if (Math.abs(startViewBox[1] + delta.dy) > svg.getAttribute('height')) {
                    if (startViewBox[1] + delta.dy > 0) {
                        yRange = svg.getAttribute('height')
                    } else {
                        yRange = -svg.getAttribute('height')
                    }
                } else {
                    yRange = startViewBox[1] + delta.dy
                }
                let moveToViewBox = `${xRange} ${yRange} ${startViewBox[2]} ${startViewBox[3]}`
                svg.setAttribute('viewBox', moveToViewBox)
            }
        }
        //	滑鼠點擊結束（拖曳結束）
        function mouseUp() {
            moving = false
        }	//	結束：滑鼠拖拉的效果
        /*	
        開始：滑鼠縮放的效果
        */
        function zoom(e, zoomLvl, zoom) {
            zoom = (typeof zoom !== 'undefined') ? zoom : 'wheel';
            //	1.取得一開始的 viewBox。
            let startViewBox = svg.getAttribute('viewBox').split(' ').map(n => parseFloat(n))
            //	2.取得滑鼠執行縮放位置的 viewPort Client 座標，並利用 CTM 對應取得 SVG 座標。
            //	2.1 取得滑鼠執行縮放的位置
            let startClient = { x: e.clientX, y: e.clientY }
            //	2.2 轉換成 SVG 座標系統中的 SVG 座標點
            let newSVGPoint = svg.createSVGPoint()
            let CTM = svg.getScreenCTM()
            newSVGPoint.x = startClient.x
            newSVGPoint.y = startClient.y
            let startSVGPoint = newSVGPoint.matrixTransform(CTM.inverse())
            //	3.進行縮放，如果要讓原本的尺寸縮放兩倍的話。
            //	3.1 設定縮放倍率
            let r
            let zoomWidth
            let zoomHeight
            if (e.deltaY > 0 || zoom == 'zoomOut') { //縮
                r = 1.5
                if (startViewBox[2] * r > svg.getAttribute('width')) {
                    zoomWidth = svg.getAttribute('width')
                    zoomHeight = svg.getAttribute('height')
                } else {
                    zoomWidth = startViewBox[2] * r
                    zoomHeight = startViewBox[3] * r
                }
            } else if (e.deltaY < 0 || zoom == 'zoomIn') { //放
                r = (2 / 3)
                if (startViewBox[2] * r < svg.getAttribute('width') * Math.pow(r, zoomLvl)) {
                    zoomWidth = svg.getAttribute('width') * Math.pow(r, zoomLvl)
                    zoomHeight = svg.getAttribute('height') * Math.pow(r, zoomLvl)
                } else {
                    zoomWidth = startViewBox[2] * r
                    zoomHeight = startViewBox[3] * r
                }
            }
            //	3.2 進行縮放  
            svg.setAttribute('viewBox', `${startViewBox[0]} ${startViewBox[1]} ${zoomWidth} ${zoomHeight}`)
            //	4.將一開始滑鼠的執行縮放位置的 viewPort Client 座標利用新的 CTM ，轉換出對應的 SVG 座標。
            CTM = svg.getScreenCTM()
            let moveToSVGPoint = newSVGPoint.matrixTransform(CTM.inverse())

            //	5.取得在縮放過程中該圓點的位移量 `(svgX0 - svgX1)`。
            let delta = {
                dx: startSVGPoint.x - moveToSVGPoint.x,
                dy: startSVGPoint.y - moveToSVGPoint.y
            }

            //	6.設定最終的 viewBox2 
            let middleViewBox = svg.getAttribute('viewBox').split(' ').map(n => parseFloat(n))
            let moveBackViewBox = `${middleViewBox[0] + delta.dx} ${middleViewBox[1] + delta.dy} ${middleViewBox[2]} ${middleViewBox[3]}`
            svg.setAttribute('viewBox', moveBackViewBox)
        }	//	結束：滑鼠縮放的效果

        const svg = document.getElementById('svg')
        const zoomIn = document.getElementById('zoomIn')
        const zoomOut = document.getElementById('zoomOut')

        let zoomLvl = 2
        //	拖曳的事件
        svg.addEventListener('mousedown', mouseDown, false)
        svg.addEventListener('mousemove', drag, false)
        svg.addEventListener('mouseup', mouseUp, false)
        //	縮放的事件
        svg.addEventListener('wheel', function (e) { zoom(e, zoomLvl, zoom) }, false)
        zoomIn.addEventListener('click', function (e) { zoom(e, zoomLvl, 'zoomIn') }, false)
        zoomOut.addEventListener('click', function (e) { zoom(e, zoomLvl, 'zoomOut') }, false)

    </script>
</body>

</html>